{% assign defaultConstraints = constraints-templates.Tiling_Default %} 
{% assign icons = constraints-templates.Icons %} 
{% assign constraints = constraints | setSolutionField %}
{% assign children = constraints.key | getChildConstraints %}

<div class="constraints" style="border: #e4ade6 solid 4px; padding: 15px;">
<h3>{{constraints.name}}</h3>
<p>{{constraints.description}}</p>
<p>Key: {{constraints.key}}</p>
{% if constraints.parentKey %}
<p>Parent: {{constraints.parentKey}}</p>
{% endif %}
<p>Type: {{constraints.type}}</p>
{% if constraints.board == "varies" %}
<p>Board: varies</p>
{% elsif constraints.board[0] %}
<p>Board: <a href="{{constraints.board | getUrl }}">{{constraints.board }}</a></p>
{% else %}
<p>Board: <a href="{{constraints.board.key | getUrl }}">{{constraints.board.key }}</a></p>
{% endif %}
{% if constraints.pieceSupply == "varies" %}
<p>Pieces: varies</p>
{% else %}
<p>Pieces: {% for piecePair in constraints.pieceSupply %}<a href="{{piecePair[0] | getUrl}}">{{piecePair[0]}} x {% if piecePair[1] == -1 %}âˆž{%else%}{{piecePair[1]}}{%endif%}</a>{% if forloop.last == false %}, {%endif%}{%endfor%}</p>
{% endif %}
<p>Constraints: {% if constraints.constraint_flags.size == 0 %}defaults.{% endif %}
{% for setting in constraints.constraint_flags %}<a href="{{ setting[0] | getUrl }}" style="font-size:x-large;">{{ icons[setting[0]] }}</a> {% endfor %}
</p>
{% if constraints.type == "Generated" %}
  <p>Solution: {{constraints.solution.solutionsTotal[0] | json }}</p>
{% endif %}
{% if children.size > 0 %}
  <p>Children: {% include linkList, links:children %}</p>
{% endif %}

</div>